; PlatformIO Test Configuration for MutexGuard
; MutexGuard requires FreeRTOS - must run on ESP32

[env:esp32-basic]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -Wall
    -Wextra
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*

[env:esp32-thread-safety]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -D CONFIG_FREERTOS_HZ=1000
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_thread_safety

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
build_flags =
    -D UNIT_TEST
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*
